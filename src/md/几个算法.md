## 算法小练习

> 牛客上看到的几个字节算法题

```js
 // 正则解析
      let str = `[
        {
          text: '组件',
          items: [
            { text: 'Button', link: '/component/button' },
            { text: 'Card', link: '/component/card' },
            { text: 'Tag', link: '/component/tag' }
          ]
        }
      ]`;
      const reg = new RegExp();
      const originConfing = /items: \[([\d\D]*)\]\n/.exec(str);
      console.log(originConfing[0], originConfing[1]);

      // 求数组中第k大和第m大的数的总和
      let arr = [1, 2, 4, 4, 3, 5];

      function getSum(arr, k, m) {
        // 排序
        let sortArr = arr.sort((a, b) => b - a);
        // 去重
        let sinplArr = [...new Set(sortArr)];

        // 记录值
        let max = sinplArr[k - 1];
        let min = sinplArr[m - 1];

        // 记录次数
        let map = new Map();
        for (let i = 0; i < arr.length; i++) {
          if (!map.has(arr[i])) {
            map.set(arr[i], 1);
          } else {
            map.set(arr[i], map.get(arr[i]) + 1);
          }
        }

        // 结果
        const res = max * map.get(max) + min * map.get(min);

        return res;
      }

      getSum(arr, 2, 4);

      // 节流
      function jieliu(fn, delay) {
        let timer;
        return function () {
          if (!timer) {
            timer = setTimeout(() => {
              fn.apply(this, arguments);
              timer = null;
            }, delay);
          }
        };
      }

      // 防抖
      function fangdou(fn, delay) {
        let timer;
        return function () {
          if (timer) clearTimeout(timer);
          timer = setTimeout(() => {
            fn.apply(this, arguments);
            timer = null;
          }, delay);
        };
      }

      function foo(a) {
        console.log(a);
      }

      const fn = fangdou(foo, 500);

      // fn(10);

      window.addEventListener('resize', () => {
        fn(10);
      });

      // 获取数组深度
      function getArrayDep(arr) {
        let max = 0;
        for (let i = 0; i < arr.length; i++) {
          if (Array.isArray(arr[i])) {
            max = Math.max(max, 1 + getArrayDep(arr[i]));
          }
        }
        return max;
      }

      let a = getArrayDep([1, 2, [1, 2, [3]], [1, [2, [3, [4, 5, [1]]]]], [1, 2, [3]]]);
      console.log(a);
```