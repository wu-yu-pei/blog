<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Growing-节流的另一种写法</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.22.0/prism.min.js"></script>
    <link
      href="https://cdn.bootcdn.net/ajax/libs/prism-themes/1.9.0/prism-one-dark.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
      integrity="sha512-c42qTSw/wPZ3/5LBzD+Bw5f7bSF2oxou6wEb+I/lqeaKV5FDIfMvvRp772y4jcJLKuGUOpbJMdg/BTl50fJYAw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="icon" href="../../favicon.ico" />
    <link rel="stylesheet" href="../css/base.css" />
    <link rel="stylesheet" href="../css/notify.css" />
    <link rel="stylesheet" href="../css/newsprint.css" />
    <link rel="stylesheet" href="../css/color.css" />
    <link rel="stylesheet" href="../css/article.css" />
  </head>

  <body>
    <div class="nav">
      <div class="home">
        <a href="../../list.html"><img src="../img/list.svg" alt="" /></a>
      </div>
      <div class="auther">
        <span>G</span>
        <span>r</span>
        <span>o</span>
        <span>w</span>
        <span>i</span>
        <span>n</span>
        <span>g</span>
        <span>/</span>
        <span>A</span>
        <span>r</span>
        <span>t</span>
        <span>i</span>
        <span>c</span>
        <span>l</span>
        <span>e</span>
      </div>
      <div class="github">
        <a href="https://github.com/wu-yu-pei"><img src="../img/github.svg" alt="" /></a>
      </div>
    </div>
    <div class="content">
      <h1>节流的另一种写法</h1>
      <h4 id="">节流的第二种写法</h4>
<pre><code class="html language-html">&lt;input type="text" name="" id="" /&gt;
</code></pre>
<ul>
<li>没有修改this指向版本</li>
</ul>
<pre><code class="js language-js">var int = document.querySelector('input');

function foo() {
  console.log(this);
  console.log(1);
}

// 1.this指向window
function jieliu(fn, delay) {
  // 开始时间
  let start = new Date();
  return function () {
    // 调用时的时间
    let end = new Date();
    // 如果时间只差大于delay 则 调用函数
    if (end - start &gt;= delay) {
      fn();
      start = end;
    }
  };
}

int.oninput = jieliu(foo, 1000);
</code></pre>
<ul>
<li>修改this指向版本</li>
</ul>
<pre><code class="js language-js">function jieliu(fn, delay) {
  // 开始时间
  let start = new Date();
  return function () {
    // 调用时的时间
    let end = new Date();
    // 如果时间只差大于delay 则 调用函数
    if (end - start &gt;= delay) {
      fn.call(this);
      start = end;
    }
  };
}

int.oninput = jieliu(foo, 1000);
</code></pre>
<p>效果:
<img src="../mdimg/%E8%8A%82%E6%B5%81.gif" alt="" /></p>
      <div class="end">----本文结束----</div>
      <div class="page">
        <a
          href="https://wu-yu-pei.github.io/leetcode/src/html/手写函数.html"
          class="pre"
        >
          <img src="../img/leftArrow.svg" alt="" />
          手写函数
        </a>
        <a
          href="https://wu-yu-pei.github.io/leetcode/src/html/深拷贝浅拷贝.html"
          class="next"
        >
          深拷贝浅拷贝
          <img src="../img/rightArrow.svg" alt="" />
        </a>
      </div>
    </div>
    <div class="fotter">
      <p>All articles written with ❤ by Wu Yupei</p>
      <p>Github · Gieee · QQ · WeChat</p>
    </div>
    <script src="../js/click.js"></script>
    <script src="../js/scroll.js"></script>
    <script src="../js/notify.js"></script>
  </body>
</html>
