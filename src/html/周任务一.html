<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Growing-周任务一</title>
    <link href="../css/theme//prism-one-dark.css" rel="stylesheet" />
    <link rel="stylesheet" href="../css/animate.min.css" />
    <link rel="icon" href="../../favicon.ico" />
    <link rel="stylesheet" href="../css/base.css" />
    <link rel="stylesheet" href="../css/notify.css" />
    <link rel="stylesheet" href="../css/newsprint.css" />
    <link rel="stylesheet" href="../css/article.css" />
  </head>

  <body>
    <div class="top">
      <div class="nav">
        <div class="home">
          <a href="../../pageList/index.html"><img src="../img/list.svg" alt="" /></a>
        </div>
        <div class="auther">
          <span>G</span>
          <span>r</span>
          <span>o</span>
          <span>w</span>
          <span>i</span>
          <span>n</span>
          <span>g</span>
          <span>/</span>
          <span>A</span>
          <span>r</span>
          <span>t</span>
          <span>i</span>
          <span>c</span>
          <span>l</span>
          <span>e</span>
        </div>
        <div class="github">
          <a href="https://github.com/wu-yu-pei"><img src="../img/github.svg" alt="" /></a>
        </div>
      </div>
    </div>
    <div class="content">
      <h1>周任务一</h1>
      <h4 id="">周三</h4>
<h5 id="-1">一.算法</h5>
<ol start="53">
<li>最大子数组和
给你一个整数数组 nums ，请你找出一个具有最大和的连续子数组（子数组最少包含一个元素），返回其最大和。</li>
</ol>
<p>子数组 是数组中的一个连续部分。</p>
<p>示例 1：</p>
<p>输入：nums = [-2,1,-3,4,-1,2,1,-5,4]
输出：6
解释：连续子数组 [4,-1,2,1] 的和最大，为 6 。
示例 2：</p>
<p>输入：nums = [1]
输出：1
示例 3：</p>
<p>输入：nums = [5,4,-1,7,8]
输出：23</p>
<p><strong>思路</strong></p>
<ul>
<li>动态规划问题</li>
<li>动态规划解题步骤</li>
<li>确定 dp 数组</li>
<li>确定递推公式</li>
<li>确定遍历顺序</li>
</ul>
<pre><code class="js language-js">var maxSubArray = function (nums) {
  // 首先思路 动态规划
  // 三部曲
  const len = nums.length;
  const dp = [];
  dp[0] = nums[0];

  for (let i = 1; i &lt; len; i++) {
    dp[i] = Math.max(dp[i - 1] + nums[i], nums[i]);
  }

  return Math.max(...dp);
};
</code></pre>
<ol start="746">
<li>使用最小花费爬楼梯
 给你一个整数数组 cost ，其中 cost[i] 是从楼梯第 i 个台阶向上爬需要支付的费用。一旦你支付此费用，即可选择向上爬一个或者两个台阶。</li>
</ol>
<p>你可以选择从下标为 0 或下标为 1 的台阶开始爬楼梯。</p>
<p>请你计算并返回达到楼梯顶部的最低花费。</p>
<p>示例 1：</p>
<p>输入：cost = [10,15,20]
输出：15
解释：你将从下标为 1 的台阶开始。</p>
<ul>
<li>支付 15 ，向上爬两个台阶，到达楼梯顶部。
总花费为 15 。
示例 2：</li>
</ul>
<p>输入：cost = [1,100,1,1,1,100,1,1,100,1]
输出：6
解释：你将从下标为 0 的台阶开始。</p>
<ul>
<li>支付 1 ，向上爬两个台阶，到达下标为 2 的台阶。</li>
<li>支付 1 ，向上爬两个台阶，到达下标为 4 的台阶。</li>
<li>支付 1 ，向上爬两个台阶，到达下标为 6 的台阶。</li>
<li>支付 1 ，向上爬一个台阶，到达下标为 7 的台阶。</li>
<li>支付 1 ，向上爬两个台阶，到达下标为 9 的台阶。</li>
<li>支付 1 ，向上爬一个台阶，到达楼梯顶部。
总花费为 6 。</li>
</ul>
<p>提示：</p>
<p>2 &lt;= cost.length &lt;= 1000
0 &lt;= cost[i] &lt;= 999</p>
<pre><code class="js language-js">var minCostClimbingStairs = function (cost) {
  // 二刷来了 有点明白了
  const n = cost.length;
  const dp = new Array(n + 1);
  // 到前两个台阶不需要支付费用 所以初始化为0
  dp[0] = dp[1] = 0;
  // 从2开始遍历
  for (let i = 2; i &lt;= n; i++) {
    // 求到i个要支付的最小费用
    dp[i] = Math.min(dp[i - 1] + cost[i - 1], dp[i - 2] + cost[i - 2]);
  }
  // 返回最后一个
  return dp[n];
};
</code></pre>
<h5 id="nest">二.nest 掘金</h5>
<blockquote>
  <p>sequelize 连接数据库</p>
</blockquote>
<p>抽出配置文件, 好修改环境</p>
<pre><code class="js language-js">// config/db.ts
const productConfig = {
  mysql: {
    port: 3306,
    host: 'localhost',
    user: 'root',
    password: '123456',
    database: 'demo', // 库名
    connectionLimit: 10, // 连接限制
  },
};

const localConfig = {
  mysql: {
    port: 3306,
    host: 'localhost',
    user: 'root',
    password: '123456',
    database: 'demo', // 库名
    connectionLimit: 10, // 连接限制
  },
};

// 本地运行是没有 process.env.NODE_ENV 的，借此来区分[开发环境]和[生产环境]
const config = process.env.NODE_ENV ? productConfig : localConfig;

export default config;
</code></pre>
<p>连接数据库</p>
<pre><code class="js language-js">// src/database/sequelize.ts
import { Sequelize } from 'sequelize-typescript';
import db from '../../config/db';

const sequelize = new Sequelize(db.mysql.database, db.mysql.user, db.mysql.password || null, {
  // 自定义主机; 默认值: localhost
  host: db.mysql.host, // 数据库地址
  // 自定义端口; 默认值: 3306
  port: db.mysql.port,
  dialect: 'mysql',
  pool: {
    max: db.mysql.connectionLimit, // 连接池中最大连接数量
    min: 0, // 连接池中最小连接数量
    acquire: 30000,
    idle: 10000, // 如果一个线程 10 秒钟内没有被使用过的话，那么就释放线程
  },
  timezone: '+08:00', // 东八时区
});

// 测试数据库链接
sequelize
  .authenticate()
  .then(() =&gt; {
    console.log('数据库连接成功');
  })
  .catch((err: any) =&gt; {
    // 数据库连接失败时打印输出
    console.error(err);
    throw err;
  });

export default sequelize;
</code></pre>
<p>使用</p>
<pre><code class="js language-js">const sql = `
      SELECT
        user_id id, real_name realName, role
      FROM
        admin_user
      WHERE
        account_name = '${username}'
    `;

const res = await sequelize.query(sql, {
  type: Sequelize.QueryTypes.SELECT, // 查询方式
  raw: true, // 是否使用数组组装的方式展示结果
  logging: true, // 是否将 SQL 语句打印到控制台，默认为 true
});
</code></pre>
<h5 id="nest-1">三.nest文档</h5>
<ul>
<li>文件上传 https://docs.nestjs.com/techniques/file-upload</li>
<li>流式传输文件 https://docs.nestjs.com/techniques/streaming-files</li>
<li>网络部分(nest集成了axios) https://docs.nestjs.com/techniques/http-module</li>
</ul>
<h5 id="nuxt">四.nuxt文档</h5>
<ul>
<li>获取数据 http://nuxt3.cn/usage/data-fetching.html</li>
<li>状态 http://nuxt3.cn/usage/state.html</li>
<li>运行时配置 http://nuxt3.cn/usage/runtime-config.html</li>
</ul>
      <div class="end">----本文结束----</div>
      <div class="page">
        <a
          href="http://wuyupei.top/src/html/周任务二.html"
          class="pre"
        >
          <img src="../img/leftArrow.svg" alt="" />
          周任务二
        </a>
        <a
          href="http://wuyupei.top/src/html/玩明白gitAction.html"
          class="next"
        >
          玩明白gitAction
          <img src="../img/rightArrow.svg" alt="" />
        </a>
      </div>
    </div>
    <div class="fotter">
      <p>All articles written with ❤ by Wu Yupei</p>
      <p>Github · Gieee · QQ · WeChat</p>
    </div>
    <script src="../css/theme/prism.min.js"></script>
    <script src="../js/click.js"></script>
    <script src="../js/scroll.js"></script>
    <script src="../js/notify.js"></script>
  </body>
</html>
